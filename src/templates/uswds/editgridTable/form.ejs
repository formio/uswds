<div class="editgrid-table-container">
  <table class="usa-table
      {{ ctx.component.striped ? 'usa-table--striped' : ''}}
      {{ ctx.component.bordered ? 'usa-table--bordered' : ''}}
  ">
    {% if (ctx.header) { %}
    <thead class="editgrid-table-head">
      {{ctx.header}}
    </thead>
    {% } %}
    <tbody class="editgrid-table-body">
      {% ctx.rows.forEach(function(row, rowIndex) { %}
      <tr ref="{{ctx.ref.row}}">
        {{row}}
        {% if (ctx.openRows[rowIndex] && !ctx.readOnly) { %}
        <td class="editgrid-table-column">
          <div class="editgrid-actions">
            <button class="usa-button" ref="{{ctx.ref.saveRow}}">{{ctx.t(ctx.component.saveRow || 'Save', {
              _userInput: true })}}</button>
            {% if (ctx.component.removeRow) { %}
            <button class="usa-button--secondary" ref="{{ctx.ref.cancelRow}}">{{ctx.t(ctx.component.removeRow || 'Cancel', {
              _userInput: true })}}</button>
            {% } %}
          </div>
        </td>
        {% } %}
        {% if (ctx.errors[rowIndex]) { %}
        <td class="editgrid-table-column">
          <div class="has-error">
            <div class="editgrid-row-error help-block">
              {{ctx.errors[rowIndex]}}
            </div>
          </div>
        </td>
        {% } %}
      </tr>
      {% }) %}
    </tbody>
    {% if (ctx.footer) { %}
    <tfoot>
      <tr>
        {{ctx.footer}}
      </tr>
      <tfoot>
        {% } %}
  </table>
</div>
{% if (!ctx.readOnly && ctx.hasAddButton) { %}
<button class="usa-button" ref="{{ctx.ref.addRow}}">
  <i class="{{ctx.iconClass('plus')}}"></i>
  {{ctx.t(ctx.component.addAnother || 'Add Another', { _userInput: true })}}
</button>
{% } %}
<span class="sr-only" aria-live="polite" ref="editGridLiveRegion"></span>